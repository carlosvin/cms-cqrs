apply plugin: 'cpp'

model {
    platforms {
        x86 {
            architecture "x86"
        }
        x64 {
            architecture "x86_64"
        }
    }
}

binaries.all {
    cppCompiler.args "-std=c++11"
    linker.args "-L/usr/lib:/usr/lib64:/usr/local/lib -lgrpc -lgrpc++ -lprotobuf -lhiredis -lm"

}

libraries {
 	common {
    }
}

executables {
    content_server {
        binaries.all {
            lib libraries.common.shared
        }
    }
}

task wrapper(type: Wrapper) {
    gradleVersion = '2.3'
}